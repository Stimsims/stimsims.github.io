(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"+cow":function(e,t,n){"use strict";n.r(t),n.d(t,"pageQuery",(function(){return z}));var a=n("q1tI"),r=n.n(a),o=(n("FAZD"),n("/gC5")),i=n("Wbzz"),s=n("OQUD"),c=(n("7sVn"),n("Zrqu")),u=(n("E5k/"),n("vOnD")),l=n("Db+8"),d=n("kjjs"),m=n("4tu4"),f=n("55FY"),p=n("mSAW"),g=n("LJHC"),h=n("Mdna"),b=n("CF71"),w=n("pzn1"),v=(n("pJf4"),n("gUxS")),E=n("Xjse"),k=n("MB7R"),I=n("ZMKu"),y=n("Laee"),O=Object(l.a)((function(e){var t=Object(a.useState)(null),n=t[0],o=t[1],i=Object(a.useState)(null),s=i[0],u=i[1];Object(a.useEffect)((function(){l()}),[]);var l=function(){if(!e.courseId)throw new Error("insufficient information to retrieve students list");e.doSubscribe("selectStudents",(function(){return Object(k.f)(e.courseId)}),(function(e){o(e.students.map((function(e){return{label:e.profile.name.fullName,value:e.userId}})))}),E.c,e.onError)};return r.a.createElement(I.a,null,n&&r.a.createElement(I.b.div,Object.assign({key:"students"},y.a),r.a.createElement(c.a,{text:"Select the students you would like to assign this coursework to. You can change this later, too."}),r.a.createElement(v.a,{id:"selectStudents",options:n,isMulti:!0,placeholder:"Select a Students",onInput:function(e,t){u(t)}}),r.a.createElement(h.a,{onInput:function(){e.onInput(e.id,null)},bgColor:"neutral",width:"46%",margin:"2%"},"Cancel"),s&&s.length>0&&r.a.createElement(h.a,{onInput:function(){e.onInput(e.id,s.map((function(e){return{name:e.name,id:e.value}})))},width:"46%",margin:"2%"},"Okay")),!n&&r.a.createElement(I.b.div,Object.assign({key:"loading"},y.a),r.a.createElement(b.a,{delay:0,text:"Retrieving your students"})))})),j=(n("YwZP"),n("F1wu")),S=n("9h/v"),x=Object(l.a)((function(e){Object(s.f)("CreateCourseWork props",e);var t,n=Object(a.useState)(null),o=n[0],i=n[1],u=Object(a.useState)("create"),l=u[0],m=u[1],f=Object(a.useState)(!1),p=f[0],g=f[1],v=Object(a.useState)(null),S=(v[0],v[1]),x=Object(a.useState)(null),C=x[0],N=x[1],T=Object(a.useState)(null),D=T[0],P=T[1],W=Object(a.useState)(null),A=W[0],U=W[1],G=function(e){i(e)},L=function(e,t){var n=t;return e<10&&(n-=1),n},_=function(t,n){var a=n.courseId;N(a),m("creating");var r,o,i=Object(d.getParentUrl)(Object(d.getFullUrl)(),1),c={courseId:a,title:"Assignment: "+e.meta.title,description:"complete the game, then click and complete 'submit assignment' in the report section: "+e.meta.snippet,materials:[{link:{url:i}}],workType:"ASSIGNMENT",state:"PUBLISHED",submissionModificationMode:"MODIFIABLE_UNTIL_TURNED_IN",maxPoints:100,associatedWithDeveloper:!0};n.date&&(c.dueDate={year:n.date.year,month:n.date.month+1,day:L(n.date.hours,n.date.date)},c.dueTime={hours:(r=n.date.hours,n.date,o=0,r<10?o=24-(10-r):r>10&&(o=r-10),o%24),minutes:n.date.minutes,seconds:0,nanos:0}),n.student&&(c.assigneeMode="INDIVIDUAL_STUDENTS",c.individualStudentsOptions=n.students),e.doSubscribe("createCourseWork",(function(){return Object(k.a)(c)}),(function(e){Object(s.f)("CreateCourseWork coursework result",e),S(e.id),P(e.alternateLink),m("complete")}),E.c,G)},M=function(e,t){if("mod-yes"===e)g(!0),m("course");else if("mod-no"===e)g(!1),m("course");else if("courses"===e)N(t.courseId),m("due");else if("due"===e){var n={year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes()};U(n),p?m("student"):_(0,{courseId:C,date:n})}else"student"===e?t?_(0,{students:t.map((function(e){return e.id})),courseId:C,date:A}):m("create"):"start"===e&&m("create")};return r.a.createElement(I.a,null,o&&r.a.createElement(I.b.div,Object.assign({key:"error"},y.a),r.a.createElement(c.a,{className:"text-center",color:"error"},"Error: ",o)),!o&&(t="create"===l?r.a.createElement("div",{key:"create"},r.a.createElement(c.a,{className:"block text-center"},"Would you like to assign the course work to the whole class or individual students?"),r.a.createElement(h.a,{id:"mod-no",onInput:M,compact:!0},"the whole class"),r.a.createElement(h.a,{id:"mod-yes",onInput:M,compact:!0},"individual students")):"course"===l?r.a.createElement(w.a,{key:"course",id:"courses",onSelect:M,onError:G}):"creating"===l?r.a.createElement(b.a,{key:"creating",delay:0,text:"Creating course work"}):"student"===l?r.a.createElement(O,{key:"student",id:"student",onInput:M,onError:G,courseId:C}):"editing"===l?r.a.createElement(b.a,{key:"editing",delay:0,text:"Updating course work with selected student ids"}):"complete"===l?r.a.createElement("div",{key:"complete",className:"text-center"},r.a.createElement(c.a,{className:"block text-center"},"Course work created and assigned"),r.a.createElement("a",{href:D,target:"_blank"},r.a.createElement(c.a,null,"View Assignment"))):"due"===l?r.a.createElement("div",{key:"due"},r.a.createElement(c.a,null,"Select due date"),r.a.createElement(j.a,{id:"due",onInput:M})):"start"===l?r.a.createElement("div",{key:"start"},r.a.createElement(h.a,{id:"start",onClick:M},"Create Assignment")):void 0,r.a.createElement(I.b.div,Object.assign({key:l},y.a),t)))})),C={position:"absolute",top:0,left:"50%",transform:"translateX(-50%)"},N=function(e){return"create-assignment"===e.sendTo?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:C},r.a.createElement(c.a,{tag:"h2",className:"block text-center"},"Create Coursework")),r.a.createElement(x,Object.assign({},e,{meta:e.meta}))):null},T=function(e){return r.a.createElement(g.a,null,r.a.createElement(h.a,{onInput:function(){e.activate(S.d,"create-assignment")}},"Create Coursework"))},D=(n("HQhv"),n("y7hu"),n("6wSL")),P=n("jjfT"),W=Object(l.a)((function(e){var t,n=Object(a.useState)(S.e)[0],o=Object(a.useState)(null),i=o[0],s=o[1],u=Object(a.useState)("course"),l=u[0],d=u[1],m=Object(a.useState)(null),f=m[0],p=m[1],g=Object(a.useState)(null),v=(g[0],g[1]),O=Object(a.useState)(null),j=O[0],x=O[1],C=Object(a.useState)({}),N=C[0],T=C[1],W=Object(a.useState)(0),A=W[0],U=W[1],G=function(e,t){"course"===l?(p(t.courseId),d("coursework")):"coursework"===l?(v(t.courseWorkId),L(f,t.courseWorkId)):"viewing"===l?d("marking"):"def"===l&&d("course")},L=function(t,n){d("coursework"),e.doSubscribe("markAssignmentGetAssignments",(function(){return Object(k.g)(t,n)}),(function(e){if(e&&e.results&&e.results.length>0){var t=Object.assign({},N);e.results.map((function(e){t[e.id]=e.gameGrade})),x(e.results),U(e.totalAssignments),T(t),d("viewing")}else d("notfound")}),E.c,s)},_=function(t){d("marking"),e.doSubscribe("markAssignments",(function(){return Object(k.h)(j,N,t)}),(function(e){d("success")}),E.c,s)},M=function(e,t){var n;T(Object.assign({},N,((n={})[e]=t,n)))};return r.a.createElement(I.a,null,i&&r.a.createElement(I.b.div,Object.assign({key:"error"},y.a),r.a.createElement(c.a,{className:"text-center",color:"secondary"},"Error: ",i)),!i&&(t=function(){switch(l){case"notfound":return r.a.createElement("div",null,r.a.createElement(c.a,{className:"text-center",color:"primary"},"Resource not found"),r.a.createElement(c.a,{className:"text-center"},"If there are no turned in assignments, there are no assignments to grade. "));case"success":return r.a.createElement("div",null,r.a.createElement(c.a,{className:"text-center",color:"primary"},"Assignments have been updated"),function(){if(j){var e=j[0].link.split("/").slice(0,-1).join("/")+"/all";return r.a.createElement(c.a,{className:"text-center",color:"secondary"},r.a.createElement("a",{href:e,target:"_blank"},"View assignments"))}}());case"marking":return r.a.createElement(b.a,{text:"Marking Assignments"});case"viewing":return r.a.createElement("div",null,r.a.createElement(c.a,{className:"text-center",tag:"p",color:"primary"},j.length,"/",A," Assignments turned in"),r.a.createElement(c.a,{className:"text-center"},"Update any grade by clicking the checkmark"),r.a.createElement("div",null,j&&j.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(c.a,null,r.a.createElement("a",{href:e.link,target:"_blank"},"view assignment")),r.a.createElement(c.a,null,"Suggested Grade: ",e.gameGrade),r.a.createElement(c.a,null,"Your Grade:"),r.a.createElement(P.a,{key:e.id,id:e.id,value:N.hasOwnProperty(e.id)?N[e.id]:e.gameGrade,onInput:M,placeholder:"50",inputWidth:"50px",autoUpdate:!0,validate:{numericality:{greaterThanOrEqualTo:0,lessThanOrEqualTo:100,onlyInteger:!0}}}))}))),r.a.createElement(h.a,{onInput:function(){_(!0)},compact:!0,glow:!0},"Grade and return assignments"),r.a.createElement(h.a,{onInput:function(){_(!1)},compact:!0,glow:!0},"Draft grade assignments"));case"coursework":return r.a.createElement(D.a,{id:"coursework",courseId:f,onSelect:G,permissions:n,onError:s});case"course":default:return r.a.createElement(w.a,{id:"course",onSelect:G,permissions:n,onError:s})}}(),r.a.createElement(I.b.div,Object.assign({key:l},y.a),t)))})),A={position:"absolute",top:0,left:"50%",transform:"translateX(-50%)"},U=function(e){return"mark-assignment"===e.sendTo?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:A},r.a.createElement(c.a,{text:"Mark Assignments",tag:"h2",className:"text-center"})),r.a.createElement(W,Object.assign({},e,{meta:e.meta}))):null},G=function(e){return r.a.createElement(g.a,null,r.a.createElement(h.a,{onInput:function(){e.activate(S.e,"mark-assignment")}},"Mark Assignments"))},L=Object(l.a)(Object(m.a)((function(e){var t=Object(a.useState)(Object(p.d)("teacher-action")),n=t[0],o=t[1],i=Object(a.useState)(!!n),s=(i[0],i[1]),u=Object(a.useState)(null),l=u[0],d=(u[1],function(t,n){Object(p.f)("teacher-action",n),e.doSignIn(t),s(!!n)});return r.a.createElement(_,y.d,l&&r.a.createElement(c.a,{color:"red",className:"block text-center"},l),r.a.createElement(T,Object.assign({},e,{id:"create-assignment",activate:d})),r.a.createElement(G,Object.assign({},e,{id:"mark-assignment",activate:d})),r.a.createElement("div",{className:"teacher-actions"},r.a.createElement(c.a,{text:"How to Create Assignments",tag:"h4"}),r.a.createElement("ol",{className:"teacher-list"},r.a.createElement("li",null,r.a.createElement(c.a,null,"Click 'Create Coursework'")),r.a.createElement("li",null,r.a.createElement(c.a,null,"Select Class")),r.a.createElement("li",null,r.a.createElement(c.a,null,"Select Students to assign the coursework to")),r.a.createElement("li",null,r.a.createElement(c.a,null,"Select a due date")),r.a.createElement("li",null,r.a.createElement(c.a,null,"Wait for student to complete game and submit their Google Doc automated game performance reports")),r.a.createElement("li",null,r.a.createElement(c.a,null,"Grade assignments from Google Classroom portal")))),r.a.createElement(f.a,{active:n&&e.isSignedIn,onClose:function(){s(!1),o(null),Object(p.f)("teacher-action",null),e.doSignOut()},className:"bg-grad-pp"},r.a.createElement(N,Object.assign({},e,{sendTo:n})),r.a.createElement(U,Object.assign({},e,{sendTo:n}))))}),Object(d.getUrl)(),!0)),_=u.b.div.withConfig({displayName:"teachers__TeacherWrapper",componentId:"sc-15qjj0o-0"})(["animation:slideUp 1s ease;text-align:center;.teacher-actions{max-width:",";margin:30px auto;}.teacher-list li{list-style-position:inside;color:",";text-align:left;}"],(function(e){return e.theme.mediaM}),(function(e){return e.theme.secondary})),M=n("V+At"),R=n("qiXS"),q=function(e){Object(a.useEffect)((function(){e.addMenuItem({title:e.meta.title,onBack:t,menuItems:null})}),[]);var t=function(){Object(i.navigate)(e.meta.path)};return r.a.createElement(o.a,{key:"teacher-"+e.meta.import,id:"teacher-"+e.meta.import},r.a.createElement(M.a,{center:!0,title:"Teachers Page"}),r.a.createElement(R.a,{meta:e.meta}),r.a.createElement(L,{meta:e.meta}))},z=(t.default=function(e){return r.a.createElement(q,{meta:e.data.game,site:e.data.site.siteMetadata,addMenuItem:e.addMenuItem})},"2413827908")},"4tu4":function(e,t,n){"use strict";n("pJf4"),n("q8oJ"),n("8npG"),n("YbXK"),n("cFtU"),n("rzGZ"),n("m210"),n("4DPX"),n("E5k/");var a=n("q1tI"),r=n.n(a),o=n("vOnD"),i=n("Wcq6"),s=n.n(i),c=(n("6nsN"),n("iTTW"),n("qhky")),u=n("OQUD"),l=n("YwZP"),d=n("Zrqu"),m=n("tkF3"),f=n("Db+8"),p={clientId:"392303660392-if4osc2chaurcd8a5o6btcuud6r3rj91.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"]},g=Object(f.a)((function(e){return r.a.createElement(m.a,{apiKey:"cli",script:"https://apis.google.com/js/api.js",onLoad:function(t){gapi.load("client",(function(){e.doSubscribe("getGapi",(function(){return gapi.client.init(p)}),(function(t){e.onApiInit("gapi")}),(function(e){Object(u.h)("gapi client init rejected")}),(function(e){Object(u.h)("gapi client onError called")}))}))}})})),h=n("Wbzz"),b=(n("Xjse"),n("kjjs")),w=n("+HCB"),v=n("9h/v");n("ETiJ");function E(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=[{provider:s.a.auth.TwitterAuthProvider.PROVIDER_ID},{provider:s.a.auth.FacebookAuthProvider.PROVIDER_ID}],y={signInFlow:"redirect",callbacks:{}},O=(t.a=function(e,t,n){return function(o){if(!o.doSubscribe)throw Error("SignInHoc must be wrapped by subscribable");var i=Object(a.useState)(null),u=i[0],f=i[1],p=Object(a.useState)(!1),k=p[0],C=p[1],N=Object(a.useState)(!1),T=N[0],D=N[1],P=Object(a.useState)(null),W=P[0],A=P[1],U=function(e){D(H(e))};Object(a.useEffect)((function(){return function(){R(W||M())}}),[W]),Object(a.useEffect)((function(){B()&&window.firebaseui&&_()}),[k,T]),Object(a.useEffect)((function(){window.firebase=s.a,0===s.a.apps.length&&(s.a.initializeApp(v.a),l.globalHistory.location.hostname),window&&window.gapi&&!k&&C(!0),s.a.auth().onAuthStateChanged(U),G()}),[]);var G=function(e){window.firebase=s.a},L=function(){return o.doSubscribe("signInOut",(function(){return s.a.auth().signOut()}),(function(e){return R(M()),Object(h.navigate)(Object(b.getUrl)()),{success:"logged out"}}),(function(e){return{error:"failed to sign out."}}),f)},_=function e(n,a){void 0===a&&(a=0),console.log("SignIn  showSignInUi",o);var r=M();if(r)Object(h.navigate)(Object(b.getUrl)()+"#signing-in");else try{s.a.auth().setPersistence(s.a.auth.Auth.Persistence.NONE),q(r),y.signInSuccessUrl=t+"#signed-in",window.location=Object(b.getUrl)()+"#signing-in",y.callbacks.signInSuccessWithAuthResult=F,z(n)}catch(i){a<1&&e(n,a+1)}},M=function(){var e;return firebaseui&&(e=firebaseui.auth.AuthUI.getInstance(Z())),e||(e=W),e},R=function(e){A(null),e&&e.delete()},q=function(e){A(null),e&&e.reset()},z=function(e){var t=M();if(!t){s.a.auth();t=new firebaseui.auth.AuthUI(s.a.auth(),Z())}var a=function(e){return{provider:s.a.auth.GoogleAuthProvider.PROVIDER_ID,scopes:e,customParameters:{include_granted_scopes:!0}}}(e);t.start("#"+Z(),Object.assign({},y,{signInOptions:[a].concat(E(n?[]:I))}))},F=function(e){return window&&window.gapi&&window.gapi.client&&e&&e.credential&&gapi.client.setToken({access_token:e.credential.accessToken}),!0},B=function(){return"#signing-in"===Object(b.getUrlHash)()},V=function(){return!!T},H=function(e){return e?{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,phoneNumber:e.phoneNumber,createTime:e.metadata.creationTime,lastTime:e.metadata.lastSignInTime,provider:e.providerData.reduce((function(e,t,n){return e+(n>0?", ":"")+t.providerId}),"")}:null},Z=function(){return"firebaseui-auth-container"};return r.a.createElement(j,null,r.a.createElement(c.a,null,r.a.createElement("link",{type:"text/css",rel:"stylesheet",href:"https://www.gstatic.com/firebasejs/ui/4.3.0/firebase-ui-auth.css"})),r.a.createElement(g,{onApiInit:function(){C(!0)}}),r.a.createElement(m.a,{onLoad:G,script:"https://www.gstatic.com/firebasejs/ui/4.3.0/firebase-ui-auth.js"}),r.a.createElement(S,{signingIn:B()},r.a.createElement(x,{signingIn:B(),className:"bg-grad-pp"},r.a.createElement(w.a,{className:"sign-in-close",icon:"icon-cross",onInput:function(){Object(h.navigate)(Object(b.getUrl)())},color:"primary",bgColor:"black"}),B()&&r.a.createElement("div",null,r.a.createElement(d.a,{key:"auth-message",id:"auth-message",fontSize:"remS",className:"inline"},"By signing in, some of your personal information will be used for authentication."),r.a.createElement("a",{href:"/privacy",trget:"_blank"},"Read more here")),u&&r.a.createElement(d.a,{key:"sign-error",id:"sign-error",className:"text-center"},"error"),r.a.createElement("div",{id:Z(),className:"sign-in-wrapper"}))),V()&&r.a.createElement(O,null,r.a.createElement(d.a,{key:"sign-out",id:"sign-out",className:"text-underline",onInput:L},"sign out")),k&&r.a.createElement("div",{className:"actionView "+(V()?"signedIn":"notSignedIn")},r.a.createElement(e,Object.assign({},o,{isSignedIn:V(),user:T,doSignOut:L,deleteUser:function(){var e=s.a.auth().currentUser;if(e)return function(){return e.delete()}},isGapiReady:k,doSignIn:_}))))}},o.b.div.withConfig({displayName:"SignIn__SignOutWrapper",componentId:"sc-1kqop7t-0"})(["position:fixed;top:0px;right:0px;color:orange;"])),j=o.b.div.withConfig({displayName:"SignIn__SignInWrapper",componentId:"sc-1kqop7t-1"})(["text-align:center !important;"]),S=o.b.div.withConfig({displayName:"SignIn__StateBackground",componentId:"sc-1kqop7t-2"})(["position:absolute;top:0px;bottom:0px;left:0px;right:0px;background-color:rgba(0,0,0,0.8);transform:translateY(",");transition:transform 1s ease-out;z-index:",";"],(function(e){return e.signingIn?"0%":"-100%"}),(function(e){return e.theme.zUi})),x=o.b.div.withConfig({displayName:"SignIn__StateView",componentId:"sc-1kqop7t-3"})(["width:95%;margin:auto;margin-top:100px;z-index:",";position:relative;.sign-in-close{position:absolute;top:-25px;left:0px;}"],(function(e){return e.theme.zTop}))},"6wSL":function(e,t,n){"use strict";n("E5k/");var a=n("q1tI"),r=n.n(a),o=n("MB7R"),i=n("Db+8"),s=(n("Zrqu"),n("CF71")),c=n("+HCB"),u=n("vOnD"),l=u.b.section.withConfig({displayName:"classroomcss__List",componentId:"sc-1h8degm-0"})(["padding-left:0px;margin-left:0px;text-align:left;position:relative;.nextPage{position:absolute;top:0px;right:0px;}ul{margin:0px auto 30px auto;}"]),d=(u.b.div.withConfig({displayName:"classroomcss__ListItem",componentId:"sc-1h8degm-1"})(["border-bottom:2px solid white;position:relative;.item-text{display:inline-block;width:70%;position:relative;top:10px;}"]),n("Xjse")),m=n("gUxS"),f=(n("OQUD"),n("ZMKu")),p=n("Laee");t.a=Object(i.a)((function(e){var t=Object(a.useState)(null),n=t[0],i=t[1],u=Object(a.useState)(null),g=u[0],h=u[1];Object(a.useEffect)((function(){b()}),[]);var b=function(){e.doSubscribe("selectCourseWorkGetCoursework",(function(){return Object(o.c)(e.courseId,e.pageSize||10,g)}),(function(t){if((t.nextPageToken||g&&!t.nextPageToken)&&h(t.nextPageToken),!t.courseWork)throw new Error("no coursework found for course "+e.courseId);var n=t.courseWork.filter((function(e){return e.associatedWithDeveloper}));e.filterByTitle&&(n=n.filter((function(t){return t.title.indexOf(e.filterByTitle)>-1}))),i(n.map((function(e){var t=e.dueTime.hours>0&&e.dueTime.hours<14?0:1;return new Date(e.creationTime),{label:"Title: "+e.title+", Due date: "+new Date(e.dueDate.year,e.dueDate.month-1,t+e.dueDate.day,e.dueTime.hours).toLocaleDateString(),value:e.id}})))}),d.c,e.onError)};return r.a.createElement(f.a,null,n&&r.a.createElement(f.b.div,Object.assign({key:"courswork"},p.a),r.a.createElement(l,null,r.a.createElement("div",{style:{height:"50px"}},g&&r.a.createElement(c.a,{className:"nextPage",icon:"icon-circle-down",fontSize:"remL",rotate:"-90",onInput:b,text:"Next Page"})),r.a.createElement(m.a,{id:"selectcourseWork",options:n,className:"block",placeholder:"Select coursework",onInput:function(t,n){e.onSelect(e.id,{courseId:e.courseId,courseWorkId:n})}}))),!n&&r.a.createElement(f.b.div,Object.assign({key:"loading"},p.a),r.a.createElement(s.a,{key:"loading",delay:0,text:"Retrieving Courses"})))}))},"9h/v":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i}));t.a={apiKey:"AIzaSyDAHDS9Ia7fjc7MRYyD6zyKdRGZeRSrwrI",authDomain:"auth.stimsims.com",databaseURL:"https://mathstims-7d4bb.firebaseio.com",projectId:"mathstims-7d4bb",storageBucket:"mathstims-7d4bb.appspot.com",clientId:"392303660392-if4osc2chaurcd8a5o6btcuud6r3rj91.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"]};var a=["https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.coursework.me","https://www.googleapis.com/auth/drive.file"],r=["https://www.googleapis.com/auth/drive.file"],o=["https://www.googleapis.com/auth/classroom.coursework.students","https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.rosters.readonly"],i=["https://www.googleapis.com/auth/drive.metadata.readonly","https://www.googleapis.com/auth/classroom.coursework.students","https://www.googleapis.com/auth/classroom.courses.readonly"]},ETiJ:function(e,t,n){},MB7R:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f}));n("E5k/"),n("6kNP"),n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("OQUD");var a=function(e){if(e&&e.result)return e.result;if(Array.isArray(e))return e.map((function(e){return e.result}));throw new Error("malformed classroomThen result")};var r=function(e,t,n){void 0===n&&(n={});var r={reportId:null,reportLink:null};return function(e,t,n,r,o){void 0===r&&(r=""),void 0===o&&(o={});var i="id, name"+(r?", "+r:""),s=Object.assign({},o),c={name:n,mimeType:t};return gapi.client.drive.files.create({media:c,fields:i,name:n,mimeType:e,contentType:t,appProperties:s}).then(a)}("application/vnd.google-apps.document","text/html",e,"webViewLink, webContentLink",n).then((function(e){return r.reportId=e.id,r.reportLink=e.webViewLink,gapi.client.request({path:"/upload/drive/v3/files/"+e.id,method:"PATCH",params:{uploadType:"media",appProperties:n,published:!0},appProperties:n,published:!0,body:t})})).then((function(e){return r}))},o=function(e,t){var n=null,a=0;return gapi.client.classroom.courses.courseWork.studentSubmissions.list({courseId:e,courseWorkId:t}).then((function(e){a=e.result.studentSubmissions.length;var t=e.result.studentSubmissions.filter((function(e){return"TURNED_IN"===e.state}));n=t.map((function(e){return{courseId:e.courseId,courseWorkId:e.courseWorkId,userId:e.userId,id:e.id,link:e.alternateLink}}));var r=null;if(t&&t.length>0)return Promise.all(t.map((function(e,t){return r=e.assignmentSubmission.attachments[e.assignmentSubmission.attachments.length-1],n[t].fileId=r.driveFile.id,gapi.client.drive.files.get({fileId:r.driveFile.id,fields:"appProperties, webViewLink"})})));throw new Error("no assignments have been turned in")})).then((function(e){if(e){return e.map((function(e,t){n[t].gameGrade=e.result.appProperties.gameGrade})),{results:n,totalAssignments:a}}}))},i=function(e,t,n){var r=null,o=e.map((function(e,a){return r=t.hasOwnProperty(e.id)?t[e.id]:e.gameGrade,{courseId:e.courseId,courseWorkId:e.courseWorkId,id:e.id,updateMask:n?"draftGrade,assignedGrade":"draftGrade",draftGrade:r,assignedGrade:r}}));return Promise.all(o.map((function(e,t){return gapi.client.classroom.courses.courseWork.studentSubmissions.patch(e)}))).then((function(t){return n?Promise.all(e.map((function(e,t){return gapi.client.classroom.courses.courseWork.studentSubmissions.return({courseId:e.courseId,courseWorkId:e.courseWorkId,id:e.id})}))):t})).then(a)},s=function(e,t,n,a,o,i){if(!o)throw new Error("turnin submission must have a document to submit");var s={};return r(a,o,{gameGrade:i,courseId:e,courseWorkId:t,submissionId:n}).then((function(a){return s.id=a.reportId,gapi.client.classroom.courses.courseWork.studentSubmissions.modifyAttachments({courseId:e,courseWorkId:t,id:n,addAttachments:[{driveFile:s}]})})).then((function(a){return gapi.client.classroom.courses.courseWork.studentSubmissions.turnIn({courseId:e,courseWorkId:t,id:n})}))},c=function(e,t,n,a,r,o){if(!r)throw new Error("recalaim submission must have a document to submit");return gapi.client.classroom.courses.courseWork.studentSubmissions.reclaim({courseId:e,courseWorkId:t,id:n}).then((function(i){return s(e,t,n,a,r,o)}))},u=function(e){return gapi.client.classroom.courses.courseWork.create(Object.assign({},e)).then(a)},l=function(){return gapi.client.classroom.courses.list().then(a)},d=function(e,t,n){return gapi.client.classroom.courses.courseWork.list({courseId:e,pageSize:t||10,pageToken:n}).then(a)},m=function(e,t){return gapi.client.classroom.courses.courseWork.studentSubmissions.list({courseId:e,courseWorkId:t}).then(a)},f=function(e){return gapi.client.classroom.courses.students.list({courseId:e}).then(a)}},Xjse:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return g})),n.d(t,"l",(function(){return h})),n.d(t,"a",(function(){return b}));var a=n("OQUD"),r=n("iqUP");n("iTTW");var o=function(e){return function(t){if(!t.data||t.data.hasOwnProperty("fail"))throw t.data.hasOwnProperty("fail")?"string"==typeof t.data.fail?new Error(t.data.fail):new Error("cloud function failed"):new Error("No such record found");e(t.data)}},i=function(e){if(e.data&&!e.data.hasOwnProperty("fail"))return e.data;throw e.data.hasOwnProperty("fail")?"string"==typeof e.data.fail?new Error(e.data.fail):new Error("cloud function failed"):new Error("No such record found")},s=function(e){return e.result&&e.result.error?(Object(a.h)("cloudCatch "+e.result.error.message,!1),e.result.error.message):e.error?(Object(a.h)("cloudCatch "+e.error,!1),e.error):e.message?(Object(a.h)("cloudCatch "+e.message,!1),e.message):"string"==typeof e?(Object(a.h)("cloudCatch "+e,!1),e):(Object(a.h)("cloudCatch Incorrectly formatted cloudCatch error",!1),"Incorrectly formatted cloudCatch error")},c=function(e){return r.functions().httpsCallable("loadExam")({examId:e}).then(i)},u=function(e,t){return r.functions().httpsCallable("createExam")({game:e,settings:t}).then(i)},l=function(e){return r.functions().httpsCallable("deletePlayer")({uid:e})},d=function(e,t,n,a){return r.functions().httpsCallable("updateExam")({examId:e,game:t,node:n,local:a}).then(i)},m=function(e,t,n){return r.functions().httpsCallable("endGame")({examId:e,game:t,local:n}).then(i)},f=function(e,t){return r.functions().httpsCallable("createPaymentIntent")({eventId:e,paymentType:t}).then(i)},p=function(e,t){return r.functions().httpsCallable("checkCustomerStatus")({eventId:e,paymentType:t}).then(i)},g=function(e){return r.functions().httpsCallable("refundPayment")({paymentType:e}).then(i)},h=function(e,t){return r.functions().httpsCallable("validateCaptcha")({token:e,v2:t}).then(i)},b=function(e,t){return r.functions().httpsCallable("capturePaypalPayment")({orderID:e,authorizationID:t}).then(i)}},pzn1:function(e,t,n){"use strict";n("6kNP"),n("8npG"),n("E5k/");var a=n("o0o1"),r=n.n(a),o=(n("pJf4"),n("ls82"),n("q1tI")),i=n.n(o),s=n("MB7R"),c=n("gUxS"),u=n("CF71"),l=n("Db+8"),d=n("Xjse"),m=(n("OQUD"),n("ZMKu")),f=n("Laee");function p(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(a,r)}t.a=Object(l.a)((function(e){var t=Object(o.useState)(null),n=t[0],a=t[1];Object(o.useEffect)((function(){l()}),[]);var l=function(){var t,n=(t=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.doSubscribe("selectCourseWork",s.d,(function(t){if(t.courses&&t.courses.map){var n=t.courses.map((function(e){return{label:e.name,value:e.id}}));a(n)}else e.onError("No courses found for user")}),d.c,e.onError);case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(e){p(o,a,r,i,s,"next",e)}function s(e){p(o,a,r,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return i.a.createElement(m.a,null,n&&i.a.createElement(m.b.div,Object.assign({key:"selectCourse"},f.a),i.a.createElement(c.a,{id:"selectCourse",options:n,className:"block",placeholder:"Select a Course",onInput:function(t,n){e.onSelect(e.id,{courseId:n})}})),!n&&i.a.createElement(m.b.div,Object.assign({key:"loading"},f.a),i.a.createElement(u.a,{delay:0,text:"Retrieving Courses"})))}))},tkF3:function(e,t,n){"use strict";var a=n("q1tI"),r=n("17x9"),o=n.n(r),i=(n("OQUD"),function(e){Object(a.useEffect)((function(){t()}),[]);var t=function(){var t=document.createElement("script");t.type="text/javascript",t.src=e.script,t.onload=function(t){e.onLoad&&e.onLoad(t)},document.body.appendChild(t)};return null});i.propTypes={onLoad:o.a.func,script:o.a.string},t.a=i}}]);
//# sourceMappingURL=component---src-templates-teachers-js-e7df19a805253935dcec.js.map