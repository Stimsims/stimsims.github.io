(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"6sDy":function(n,e,t){"use strict";t.r(e),t.d(e,"SCORE_TYPE_MATH",(function(){return f})),t.d(e,"SCORE_TYPE_GAME",(function(){return d})),t.d(e,"registerQuestions",(function(){return m})),t.d(e,"markMarks",(function(){return p})),t.d(e,"markModel",(function(){return g})),t.d(e,"scoreDistance",(function(){return v})),t.d(e,"getFinalScore",(function(){return h})),t.d(e,"getGrade",(function(){return b})),t.d(e,"gradeAnswers",(function(){return y})),t.d(e,"measureScores",(function(){return w})),t.d(e,"groupAnswers",(function(){return M})),t.d(e,"all",(function(){return A}));t("pJf4"),t("q8oJ"),t("YbXK"),t("cFtU"),t("m210"),t("4DPX"),t("E5k/"),t("rzGZ"),t("Dq+y"),t("8npG"),t("Ggvi");var r,o=t("kjjs"),a=t("OQUD"),u=t("7sVn"),i=t("bdSH");function s(n){return function(n){if(Array.isArray(n))return c(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var f="math",d="game",l=((r={})[f]={name:"Math Questions",description:"Questions asked during game play, depending on the operations the student chose.",sections:{}},r[d]={name:"Game Context Questions",description:"Questions asked relating to the game story",sections:{}},r),m=function(n,e,t,r,o){if(!l.hasOwnProperty(n))throw Error("registerQuestions requires a known type, recieved "+n);l[n].sections[e]={items:t,name:r,description:o}},p=function(n){var e=Object.keys(n),t=0;return e.map((function(e){return t=(n[e].score||0===n[e].score)&&n[e].total?Object(o.roundTo)(n[e].score/n[e].total,2):0,Object(u.AssessmentScore)(e.id,t,n[e].total||0,e.weight||1,e.notes)}))},g=function(n,e){var t={},r=0,i=0,c=0,f=0,d=[];for(var l in n)r=n[l].value,c=n[l].range,d=n[l].notes||[],f=(i=e.hasOwnProperty(l)?e[l].value:null)||0===i?v(r,c,i):0,t[l]=new u.AssessmentScore(l,f,1,n[l].weight||1,[].concat(s(d),[r===i?"Player answered "+Object(o.roundTo)(i,2)+". Score: "+100*f+"%":"Player answered "+Object(o.roundTo)(i,2)+", the real answer was "+Object(o.roundTo)(r,2)+". Score: "+100*f+"%"]));return Object(a.f)("score markModel marks",t),t},v=function(n,e,t){if(!t&&0!==t)return 0;var r=1+Math.abs(2*n),u=n-t,i=Math.abs(u/r),s=Math.max(Math.min(1,1-i),0),c=s*s,f=Object(o.roundTo)(c,2);return Object(a.f)("scoreDistance target "+n+" answer "+t+" range "+e+" r "+r+" \n            distance "+u+" fraction "+i+" a "+s+" squared "+c+" rounded "+f),f},h=function(n){var e=null,t=n.reduce((function(n,e,t){return Object(a.f)("MyTree Gate aggregating final score a "+n+" e "+(e.score||e)+" ",e),e.score||0===e.score?e.score+n:e+n}),0);return t?e=Object(o.roundTo)(t/n.length,2):0===t&&(e=0),Object(a.f)("MyTree Gate getFinalScore finalScore "+e+" r "+t+" model",n),e},b=function(n){if(isNaN(n))throw Error("getGrade was passed a non number "+n);var e=Object(i.toNum)(n),t=0;return t=e>1?100===e?"100":e>90?"90":e>80?"80":e>70?"70":e>60?"60":e>50?"50":e>40?"40":e>30?"30":e>20?"20":e>10?"10":"0":Math.floor(10*e),Object(a.f)("sendEvent getGrade score "+e+" return "+t),t},y=function(n){Object(a.f)("Scoring gradeAnswers game",n);var e=Object.assign({},n.sim.scores),t=M(n.sim.answers||{},n.game.mcq||{});if(e=Object.assign({},e,{},t),n.sim.model){var r=g(n.sim.model,n.game.values);e=Object.assign({},e,{},r)}var o,u=0,i=0,s=0,c=0;for(var f in e)n.sim.scores[f]?(s=e[f].score*n.sim.scores[f].weight,c=e[f].total*n.sim.scores[f].weight):(s=e[f].score*e[f].weight,c=e[f].total*e[f].weight),u+=s,i+=c;var d={assessment:e,finalMark:o=i>0?u/i:0};return w(d),Object(a.f)("Scoring gradeAnswers finalScore "+u+" finalTotal "+i+" \n                finalMark "+o+"  returning",d),d},w=function(n){var e=n.assessment,t=n.finalMark,r=0;for(var o in e)r=e[o].total?e[o].total:0,Object(a.i)(Object(u.Event)("score",o+"-total",b(r),r));Object(a.i)(Object(u.Event)("score","finalMark",b(t),t))},O={divide:!0},M=function(n,e){if(e){var t=null,r=null;for(var o in e)(t=n[(r=e[o]).id]||new u.AssessmentScore(o,0,0,0,[])).total+=1,t.score+=r.score,r.note&&q(S(t.notes,O),r.note)&&(Array.isArray(r.note)?t.notes=[].concat(s(t.notes),s(r.note),[O]):t.notes=[].concat(s(t.notes),[r.note,O])),n[r.id]=t}return n},S=function(n,e){var t,r=[],o=0,a=s(n);return n.map((function(u,i){u!==e&&i!==n.length-1||(t=a.slice(o,u!==e?i+1:i),r.push(t),o=i+1)})),r},q=function(n,e){var t=!0;return n.map((function(n){j(n,e)&&(t=!1)})),t},j=function(n,e){if(n&&e&&typeof n==typeof e){if(Array.isArray(n)){var t=!0;return n.length===e.length&&n.map((function(n,r){n&&n.latex&&e[r]&&e[r].latex?n.latex!==e[r].latex&&(t=!1):n&&n.text&&e[r]&&e[r].text?n.text!==e[r].text&&(t=!1):n!==e[r]&&(t=!1)})),t}if("string"==typeof n)return n===e;throw Error("compareNotes: invalid note of type "+typeof n)}return!1},A={getFinalScore:h,groupAnswers:M,scoreDistance:v,markModel:g,registerQuestions:m}},"7sVn":function(n,e,t){"use strict";t.r(e),t.d(e,"Dataset",(function(){return r})),t.d(e,"AXIS_TYPE_NUMBER",(function(){return o})),t.d(e,"Axis",(function(){return a})),t.d(e,"Mark",(function(){return u})),t.d(e,"Score",(function(){return i})),t.d(e,"AssessmentScore",(function(){return s})),t.d(e,"MCQ",(function(){return c})),t.d(e,"GaEvent",(function(){return f})),t.d(e,"Event",(function(){return d})),t.d(e,"GameInstance",(function(){return l})),t.d(e,"Dialogue",(function(){return m})),t.d(e,"Operation",(function(){return p})),t.d(e,"Model",(function(){return g})),t.d(e,"all",(function(){return v}));t("E5k/"),t("OQUD"),t("kjjs");function r(n){if(!n)throw Error("Dataset must have a dataKey");return{data:[],dataKey:n}}var o="number";function a(n,e,t,r,o){return void 0===o&&(o={}),Object.assign({x:n,y:t,xType:e,yType:r},o)}function u(n,e,t,r,o){return{description:t,total:r,count:r,score:o,key:n,name:e}}function i(n,e,t,r,o,a,u){return{id:n,name:e,modelScore:t,valueScore:r,valueSim:o,valueUser:a,description:u}}function s(n,e,t,r,o){return void 0===r&&(r=0),void 0===o&&(o=[]),{id:n,score:e,total:t,weight:r,notes:o}}function c(n,e,t,r,o,a){return!0===r?r=1:!1===r&&(r=0),{key:""+Math.random(),type:"mcq",category:n,id:e,label:t,score:r,isPersistent:a,note:o}}function f(n,e,t,r,o){return r>0&&r<1&&(r=Math.round(100*r)),{key:""+Math.random(),type:"gaevent",event:new d(n,e,t,r),isPersistent:o}}function d(n,e,t,r,o){if(e&&n){var a={category:n,action:e,isPersistent:o};return(t||0===t)&&(a.label=t+""),(r||0===r)&&(r>=0&&r<=1&&(r=Math.round(100*r)),a.value=r),a}return null}function l(n){if(!n)throw Error("every Game needs a start location");return{game:{meta:{simFields:["values","flags","mcq"],measurements:[]},answers:[],mcq:{},inventory:{},flags:{},quests:{},mathMap:{},math:{},move:{location:n,merge:!1},data:{},values:{},sendToSim:{}},sim:{questions:{},scores:{},values:{},model:{},entities:{},marks:{}}}}var m=function(n,e,t){return{key:n,pull:e,dialogue:t}},p=function(n,e){return{operation:n,operands:e}},g=function(n,e,t,r,o){return{key:n,description:t,value:o,range:r}},v={GameInstance:l,MCQ:c,Score:i,Dataset:r,Event:d,Model:g,Dialogue:m}},"Ei+d":function(n,e,t){t("gu/5"),t("eoYm"),String.prototype.includes||(String.prototype.includes=function(){"use strict";return-1!==String.prototype.indexOf.apply(this,arguments)})},Hhtr:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var r=function(){return!1}},OQUD:function(n,e,t){"use strict";t.d(e,"a",(function(){return s})),t.d(e,"f",(function(){return c})),t.d(e,"l",(function(){return m})),t.d(e,"c",(function(){return g})),t.d(e,"e",(function(){return v})),t.d(e,"m",(function(){return h})),t.d(e,"b",(function(){return b})),t.d(e,"g",(function(){return y})),t.d(e,"d",(function(){return w})),t.d(e,"h",(function(){return O})),t.d(e,"j",(function(){return M})),t.d(e,"k",(function(){return S})),t.d(e,"i",(function(){return q}));t("HQhv");var r=t("Hhtr"),o=t("7sVn"),a=t("kjjs"),u=t("6sDy"),i="https://stimsims.com"===Object(a.getHost)()?"UA-149526395-4":"UA-149526395-5",s="error",c=function(n,e,t,o){if(Object(r.a)())switch(t){case"error":console.error(n,o,e);case"warn":console.warn(n,o,e);case"log":default:console.log(n,o,e)}},f=i,d=function(){return window&&window.gtag},l=function(){return window&&window.gtag?window.gtag:function(){c("error: gtag not available, returned mock method","error")}},m=function(n){f=n||i,w()&&y(!0),d()&&l()("config",f,{anonymize_ip:!0})},p={},g=function(){return p},v=function(n){for(var e in p=n,n){if(isNaN(n[e]))throw Error("loadPersistent all key-value pairs must be numbers, key "+e+" is not");q(new o.Event("persistent",e,null,n.value))}},h=function(n){if(!n)throw Error("trackPersistent error: action must be defined");p[n]?p[n]=p[n]+1:p[n]=1,q(new o.Event("persistent",n,null,p[n]))},b=function(){p={}},y=function(n){window&&window.gaOptout&&(window.gaOptout(),window.localStorage.setItem("stimsims-analytics-opt-out","true"))},w=function(){if(window)return"true"===window.localStorage.getItem("stimsims-analytics-opt-out")},O=function(n,e){void 0===e&&(e=!1),c("sendError "+n,"error"),d()&&(l()("event","exception",{send_to:f,description:n,fatal:e}),f!==i&&l()("event","exception",{send_to:i,description:n,fatal:e}))},M=function(n){d()&&l()("send",n)},S=function(n,e,t,r){void 0===n&&(n=null),void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=0);var o={};e&&(o.name=e),(r||0===r)&&(o.value=r),n&&(o.event_category=n),t&&(o.event_label=t),d()&&l()("event","timing_complete",o)},q=function(n,e){var t,r=((t={hitType:"event"}).event_category=n.category,t.event_action=n.action,t.send_to=f,t),o="";n.hasOwnProperty("label")?(o=n.label+"-"+n.action,n.hasOwnProperty("value")&&(n.value>0&&n.value<1&&(n.value=Math.round(100*n.value)),r.event_value=n.value,r.value=n.value)):n.hasOwnProperty("value")&&(n.value>0&&n.value<1&&(n.value=Math.round(100*n.value)),r.event_value=n.value,r.value=n.value,o=Object(u.getGrade)(n.value)+"-"+n.action),o=o.split(" ").join("-"),(e||n.isPersistent)&&h(o),r.event_label=o,d()&&(l()("event",n.action,r),f!==i&&(r.send_to=i,l()("event",n.action,r)))}},bdSH:function(n,e,t){"use strict";t.r(e),t.d(e,"roundTo",(function(){return c})),t.d(e,"getParabolaFromVertex",(function(){return f})),t.d(e,"getDataMinMax",(function(){return d})),t.d(e,"getMinMaxDifferenceRange",(function(){return l})),t.d(e,"getRangeFraction",(function(){return m})),t.d(e,"isValidValue",(function(){return p})),t.d(e,"buildLinearEquations",(function(){return g})),t.d(e,"solveEquations",(function(){return v})),t.d(e,"solveFor",(function(){return h})),t.d(e,"getVariables",(function(){return b})),t.d(e,"transformData",(function(){return y})),t.d(e,"subEqByString",(function(){return w})),t.d(e,"subMathEq",(function(){return O})),t.d(e,"toLatex",(function(){return M})),t.d(e,"getAlts",(function(){return S})),t.d(e,"EQLR",(function(){return q})),t.d(e,"EQL",(function(){return j})),t.d(e,"EQR",(function(){return A})),t.d(e,"operate",(function(){return x})),t.d(e,"getOpText",(function(){return k})),t.d(e,"joinOperands",(function(){return E})),t.d(e,"calculate",(function(){return N})),t.d(e,"substitute",(function(){return T})),t.d(e,"checkLHSValid",(function(){return P})),t.d(e,"evaluate",(function(){return D})),t.d(e,"integrate",(function(){return U})),t.d(e,"getRegressionSlope",(function(){return _})),t.d(e,"getMean",(function(){return I})),t.d(e,"getAreaUnderCurve",(function(){return Q})),t.d(e,"getNumbers",(function(){return G})),t.d(e,"getSymbol",(function(){return H})),t.d(e,"roundString",(function(){return V})),t.d(e,"truncateNumbers",(function(){return C})),t.d(e,"toNum",(function(){return J})),t.d(e,"mathToText",(function(){return Y})),t.d(e,"textToMath",(function(){return B})),t.d(e,"isValidSolution",(function(){return K})),t.d(e,"getMagnitude",(function(){return L})),t.d(e,"makeQuadratic",(function(){return X})),t.d(e,"executeNerdamer",(function(){return z})),t.d(e,"nonNerdCalcPoly",(function(){return Z})),t.d(e,"mapToRange",(function(){return $})),t.d(e,"varyValue",(function(){return W})),t.d(e,"getSSE",(function(){return nn})),t.d(e,"getAnsAlts",(function(){return en})),t.d(e,"expand",(function(){return tn})),t.d(e,"simplify",(function(){return rn})),t.d(e,"mathToTextObj",(function(){return on})),t.d(e,"execute",(function(){return an})),t.d(e,"randomizeValues",(function(){return un})),t.d(e,"gcd_two_numbers",(function(){return sn})),t.d(e,"gcd",(function(){return cn})),t.d(e,"least_common_multiple",(function(){return fn})),t.d(e,"gcd_more_than_two_numbers",(function(){return dn}));t("q8oJ"),t("m210"),t("4DPX"),t("rzGZ"),t("Dq+y"),t("8npG"),t("Ggvi"),t("YbXK"),t("cFtU"),t("E5k/"),t("n0hJ"),t("HQhv"),t("gu/5"),t("eoYm"),t("Ml7+"),t("klQ5"),t("sC2a"),t("pJf4"),t("YBKJ");var r=t("vBTj"),o=t.n(r),a=t("kjjs"),u=t("OQUD");function i(n){return function(n){if(Array.isArray(n))return s(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return s(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function c(n,e){return Number(Math.round(J(n)+"e"+e)+"e-"+e)||Math.round(J(n))}o.a.set("SOLUTIONS_AS_OBJECT",!0);var f=function(n,e,t,r,o,a){return void 0===t&&(t=!0),void 0===a&&(a=.5),(t?"":"-")+r+"("+n+" - "+o+")^2 + "+(e-e*a)},d=function(n,e){var t=e[0][n],r=e[0][n];return e.map((function(e){e[n]<t&&(t=e[n]),e[n]>r&&(r=e[n])})),[t,r]},l=function(n,e){var t,r=Math.min(n[0],e[0]);return t=(n[0]<e[0]?e[1]:n[1])-r,[Math.min(n[1],e[1])>=Math.max(n[0],e[0])?0:Math.max(n[0],e[0])-Math.min(n[1],e[1]),t]},m=function(n,e,t){return t<=n?0:t>=e||e-n==0?1:(t-n)/(e-n)},p=function(n){return"string"==typeof n||!isNaN(n)},g=function(n,e){var t="",r=0;for(var o in e)e[o]&&(r>0&&(t+=" + "),t+=e[o]+"*"+o,r++);return{eq:n+" = "+t,latex:M(n)+" = "+(t?M(t):"")}},v=function(n){return o.a.solveEquations(i(n))},h=function(n,e,t){var r=o()(n).solveFor(e);return Array.isArray||(r=[r]),r=r.map((function(n){return{eq:Y(n,!1),latex:Y(n,!0)}})),t&&r.filter((function(n){return"0"===n.eq})),r},b=function(n){return n.symbol||(n=o()(n)),n.variables()},y=function(n,e,t,r){if(void 0===t&&(t={}),void 0===r&&(r="y"),!n)throw{name:"noExpression",message:"An expression is required to transform the data into the answer"};Array.isArray(e)||(e=[e]),n.symbol||(n=o()(n));var a=n.variables(),i=null,s={};return e.map((function(e,r){i=n,a.map((function(n){e[n]||0===e[n]||t[n]||0===t[n]?s[n]=p(e[n])?e[n]:t[n]:s[n]=0}));try{return i=n.evaluate(s),isNaN(i)?J(Y(o()(i).evaluate())):J(Y(i),2)}catch(e){if(Object(u.f)("nerdTrig transformData error "+e.message,e),"UndefinedError"===e.name)return null}}))},w=function(n,e){var t=n;for(var r in e)t=t.replace(new RegExp(r+"{1}","g"),e[r]);return t},O=function(n,e,t){if(!n)return null;n.constants&&(e=n.constants),n.eq&&!n.symbol&&(n=n.eq);var r=n;return r.symbol||(r=o()(r)),r.variables().map((function(n){e&&(e[n]||0===e[n])&&(r=r.sub(n,e[n].eq?e[n].eq:e[n]))})),{eq:Y(r,!1),latex:Y(r,!0)}},M=function(n,e){return"string"!=typeof n&&(n+=""),n.indexOf("=")>-1?Y(o()(Object(a.getEqSide)(n,0)),!0,e)+"="+Y(o()(Object(a.getEqSide)(n,1)),!0,e):Y(o()(n),!0,e)},S=function(n){for(var e=[],t=0;t<n;t++)0===t?e.push(1):e.push(Math.round(Math.random>.5?-1:1*Math.random()*20));return e},q=0,j=1,A=2,x=function(n,e,t,r){void 0===t&&(t=1),void 0===r&&(r=q);var a=[];e.includes("=")?e.split("=").map((function(n,e){a.push(B(n))})):a.push(B(e));var u=S(t),i=a.map((function(e,i){return 0===r||a.length<=1||1===r&&0===i||2===r&&1===i?N(n,e,u):Array(t).fill({eq:o()(e).text(),latex:Y(e,!0),altOps:null})}));if(i.length>1){var s=i[0],c=i[1];i=s.map((function(n,e){return Object.assign({},n,{},c[e],{eq:n.eq+"="+c[e].eq,latex:n.latex+"="+c[e].latex})}))}else i=i[0];return i=i.map((function(e){return k(n,e)}))},k=function(n,e){var t={};switch(n.operation){case"add":t.text=[{text:"plus ",className:"inline-block"}].concat(i(E(n.operands)));break;default:t.text=[{text:n.operation+" with operands ",className:"inline-block"}].concat(i(E(n.operands)))}return t.equation={eq:e.eq,latex:e.latex},t},E=function(n){return n.map((function(n,e){return n.eq?{latex:(e>0?", ":"")+" "+n.latex,nudgeDown:!0,className:"inline-block"}:{text:(e>0?", ":"")+" "+n,className:"inline-block"}}))},N=function(n,e,t){var r=[],a=[],u=null;return t.map((function(t,i){switch(u=Object.assign({},n),n.operation){case"multiply":if(!n.operands[0]&&0!==n.operands[0])throw{name:"invalidArguments",message:"multiply requires 2 arguments, but recieved "+n.inputs};u.operands=[(n.operands[0].eq||n.operands[0])+"*"+t],r.push(e.multiply(u.operands[0]));break;case"divide":if(!n.operands[0])throw{name:"invalidArguments",message:"divide requires 2 arguments, but recieved "+n.inputs};0===t?t>0?r.push(e.divide(.1)):r.push(e.divide(-.1)):r.push(e.divide((n.operands[0].eq||n.operands[0])+"*"+t));break;case"add":if(!n.operands[0]&&0!==n.operands[0])throw{name:"invalidArguments",message:"add requires 2 arguments, but recieved "+n.operands};u.operands=[(n.operands[0].eq||n.operands[0])+"*"+t],r.push(e.add(u.operands[0]));break;case"subtract":if(!n.operands[0]&&0!==n.operands[0])throw{name:"invalidArguments",message:"subtract requires 2 arguments, but recieved "+n.operands};u.operands=[(n.operands[0].eq||n.operands[0])+"*"+t],r.push(e.subtract(u.operands[0]));break;case"power":if(!n.operands[0]&&0!==n.operands[0])throw{name:"invalidArguments",message:"pow requires 2 arguments, but recieved "+n.operands};u.operands=[(n.operands[0].eq||n.operands[0])+"*"+t],r.push(e.pow(u.operands[0]));break;case"root":if(!n.operands[0]&&0!==n.operands[0])throw{name:"invalidArguments",message:"root requires 2 arguments, but recieved "+n.operands};u.operands=[(n.operands[0].eq||n.operands[0])+"*"+t],r.push(e.pow("1/"+u.operands[0]));break;case"simplify":u.operands=[e.multiply(t)],r.push(o()("simplify("+u.operands+")"));break;case"log":if(!n.operands[0])throw{name:"invalidArguments",message:"log requires 3 arguments, but recieved "+n.operands};"e"===n.operands[0]?(u.operands=[e+"*"+t],r.push(o()("log("+u.operands[0]+")").evaluate())):"10"===n.operands[0]?(u.operands=[e+"*"+t],r.push(o()("log10("+u.operands[0]+")").evaluate())):0===i||Math.random()>0?(u.operands=[(n.operands[0].eq||n.operands[0])+"*"+t],r.push(o()("log10("+e+")/log10("+u.operands[0]+")").evaluate())):(u.operands=[e+"*"+t],r.push(o()("log10("+u.operands[0]+")/log10("+(n.operands[0].eq||n.operands[0])+")").evaluate()));break;case"differentiate":if(!n.operands[0])throw{name:"invalidArguments",message:"differentiate requires 1 argument, but recieved "+n.operands};u.operands=[""+(n.operands[0].eq||n.operands[0])],r.push(o.a.diff(e,u.operands[0]));break;default:throw Error("calculate doesn't recognise operation of type "+n.type)}a.push(u)})),0===r.length&&r.push(e),r.map((function(e,t){return{eq:e.text(),latex:Y(e,!0,"divide"===n.operation||"diff"===n.operation)}}))},T=function(n,e){return Array.isArray(e)||(e=[e]),n.symbol||(n=o()(n)),e.map((function(e){n=n.sub(e.var,e.val)})),{eq:Y(n),latex:Y(n,!0)}},P=function(n,e){var t=n.split("=");if(2!==t.length)return!1;var r=t[0].trim();return!!e.hasOwnProperty(r)&&{lhs:r,rhs:t[1].trim()}},D=function(n,e){void 0===e&&(e={});var t=o()(n).evaluate(Object.assign({},e));return J(Y(t))},U=function(n,e){var t=o()("integrate("+n+")",e);return Y(t)},_=function(n,e,t){var r=n.filter((function(n){return(n[e]||0===n[e])&&(n[t]||0===n[t])}));if(0===r.length)return null;var o=I(r,e),a=I(r,t),u=0,i=0;return r.map((function(n){u+=(n[e]-o)*(n[t]-a),i+=Math.pow(n[e]-o,2)})),u/i},I=function(n,e){var t=0,r=0;return n.map((function(n){(n[e]||0===n[e])&&(r+=n[e],t++)})),0===t?0:r/t},Q=function(n,e,t){var r=o()("integrate("+n+")",[e]),a=y(r,t),u=parseFloat(a[0]);return a=parseFloat(a[1])-u},R=/[-]?(\d)+(\.\d+)?(\/([+-])?(\d)+(\.\d+)?)?/g,G=function(n){if(!n)throw Error("getNumbers requires string to operate on but was given "+typeof n);if("string"!=typeof n)throw Error("getNumbers requires a string but was given "+typeof n);var e=[],t=null,r=n.matchAll(R);return Array.from(r,(function(n){e.push({eq:n[0],latex:n[0]}),n[0].includes("/")&&(t=n[0].split("/"),e.push({eq:t[0],latex:t[0]}),e.push({eq:t[1],latex:t[1]}))})),e=Object(a.uniqueRay)(e)},H=function n(e,t){if(void 0===t&&(t=[]),e.symbol&&(t=[].concat(i(t),i(n(e.symbol)))),(e.LHS||e.RHS)&&(t=[].concat(i(t),i(n(e.LHS))),t=[].concat(i(t),i(n(e.RHS)))),e.symbols)for(var r in e.symbols)t=[].concat(i(t),i(n(e.symbols[r])));return e.value&&t.push({eq:""+e,latex:Y(e,!0)}),t},F=null,V=function(n){if(n.includes("/"))F=n;else if(n.includes("0.0")){for(var e=2;e<n.length;e++)if("0"!==n.charAt(e)){F=c(n,e+1);break}}else F=c(n,2);return F},C=function(n){return n.replace(R,V)},J=function(n,e){if("number"==typeof n)return e?c(n,e):n;if(n.text)return e?c(Number(Y(n)),e):Number(Y(n));if("string"==typeof n)return e?c(Number(n),e):Number(n);throw{name:"invalidNumber",message:"an invalid object was asked to be turned toNum"+JSON.stringify(n)}},Y=function(n,e,t){var r,a;return void 0===e&&(e=!1),void 0===t&&(t=!1),e?(a=o()(n).latex(t?"fraction":"decimal"),r=t?a:isNaN(a)?C(a):""+c(a,3)):r=o()(n).text(t?"fraction":""),r},B=function(n){return n.symbol?n:o()(n)},K=function(n,e){if(n.includes("=")){var t=n.split("=");if(t[0].trim()===e&&!isNaN(t[1].trim()))return J(t[1].trim())}return!1},L=function n(e,t,r,o,a,u){if(void 0===u&&(u=!1),o)return e(Math.random(),.3,.45)*r-t;if(a)return e(Math.random(),.55,.75)*r-t;var i=Math.random()>.5;return n(e,t,r,i,!i)},X=function(n,e,t,r,o){return void 0===o&&(o="x"),n(e,t,r?r[0]:-5,r?r[1]:5)+"*"+o+"*"+o+" + "+n(e,t,r?r[2]:-10,r?r[3]:10)+"*"+o+" + "+n(e,t,r?r[4]:-20,r?r[5]:20)},z=function(n,e){var t=o()(n);return{eq:Y(t,!1),latex:Y(t,!0)}},Z=function(n,e){return n.reduce((function(n,t,r){return n+t*Math.pow(e,r)}),0)},$=function(n,e,t,r,o){return(o-r)*Math.max(Math.min(n/(t-e),1),0)+r},W=function(n,e,t){var r=n*(Math.random()*e);Math.random()>.5&&(r*=-1);var o=n+r;return t&&o<0&&(o=0),o},nn=function(n,e,t){var r,o=y(e,n,{},t),a=0,u=0;return o.map((function(e,o){r=e,u=n[o][t],a+=Math.pow(r-u,2)})),a},en=function(n,e,t){var r=t.methods.generator,o=o,a=0===n?16/e:n,u=r.getValue(!1),i=10/e,s=.2*i,c=2*i,f=.5*i,d=o(r.getValue(!1)*c,2),l=o(r.getValue(!1)*f,2),m=null;return(m=0===n?[n,n+10*c,n-10*f,n+100*c]:u>.3?[n,o(a*d*-1,2),o(-1*a*l,2),o(a/d,2)]:u>.6?[n,o(a/d*-1,2),o(a*l,2),o(a*d,2)]:[n,o(a*d,2),o(a/l,2),o(Math.pow(a,s),2)]).filter((function(n){return NaN===n||"NaN"===n})).length>0&&t.methods.measure.sendError("getAnsAlts nans found, answer "+n+" alts "+m,!1),m},tn=function(n){if(n.includes("=")){var e=Object(a.getEqSide)(n,0),t=Object(a.getEqSide)(n,1);return e=o()("expand("+e+")"),t=o()("expand("+t+")"),on(e+"="+t)}return on(o()("expand("+n+")"))},rn=function(n){if(n.includes("=")){var e=Object(a.getEqSide)(n,0),t=Object(a.getEqSide)(n,1);return e=o()("simplify("+e+")"),t=o()("simplify("+t+")"),on(e+"="+t)}return on(o()("simplify("+n+")"))},on=function(n){return{eq:n,latex:Y(n,!0)}},an=function(n,e,t){var r=B(n),o=null;switch(e){case"add":o=r.add(t);break;case"subtract":o=r.subtract(t);break;case"multiply":o=r.multiply(t);break;case"divide":o=r.divide(t)}return on(o)},un=function(n,e){var t=e||Object.keys(n),r=Object.assign({},n);return t.map((function(e){n[e],n[e].hasOwnProperty("min")&&n[e].hasOwnProperty("max")?r[e]=Object.assign({},n[e],{value:c(Math.random()*(n[e].max-n[e].min)+n[e].min,2)}):r[e]=Object.assign({},n[e])})),r};function sn(n,e){if("number"!=typeof n||"number"!=typeof e)return!1;for(n=Math.abs(n),e=Math.abs(e);e;){var t=e;e=n%e,n=t}return n}function cn(n,e){return n?cn(e%n,n):e}function fn(n,e){return n*e/cn(n,e)}function dn(n){if("[object Array]"!==toString.call(n))return!1;var e,t;if(!(e=n.length))return null;t=n[0];for(var r=1;r<e;r++)t=sn(t,n[r]);return t}},kjjs:function(n,e,t){"use strict";t.r(e),t.d(e,"getDialogueCategory",(function(){return d})),t.d(e,"getUrlString",(function(){return l})),t.d(e,"getUrl",(function(){return m})),t.d(e,"getFullUrl",(function(){return p})),t.d(e,"getHost",(function(){return g})),t.d(e,"getUrlHash",(function(){return v})),t.d(e,"getParentUrl",(function(){return h})),t.d(e,"getRatio",(function(){return b})),t.d(e,"getScore",(function(){return y})),t.d(e,"roundTo",(function(){return w})),t.d(e,"getRandomIndex",(function(){return O})),t.d(e,"onlyNumbers",(function(){return M})),t.d(e,"convertToNum",(function(){return S})),t.d(e,"stringToNum",(function(){return q})),t.d(e,"params",(function(){return j})),t.d(e,"getPar",(function(){return A})),t.d(e,"isInvalid",(function(){return x})),t.d(e,"shuf",(function(){return k})),t.d(e,"getRandomSelection",(function(){return E})),t.d(e,"addAnswer",(function(){return N})),t.d(e,"markMCQs",(function(){return T})),t.d(e,"addToArray",(function(){return P})),t.d(e,"uniqueRay",(function(){return D})),t.d(e,"filterObjectAByB",(function(){return U})),t.d(e,"toMMSS",(function(){return _})),t.d(e,"getEqSide",(function(){return I})),t.d(e,"simplifyValues",(function(){return Q})),t.d(e,"getEquationSelectionOptions",(function(){return R})),t.d(e,"scoreDistance",(function(){return G})),t.d(e,"convertUnit",(function(){return H})),t.d(e,"getUnitName",(function(){return F})),t.d(e,"getItemParamText",(function(){return V})),t.d(e,"deleteEmptyKeys",(function(){return C})),t.d(e,"getRange",(function(){return J})),t.d(e,"getImg",(function(){return Y})),t.d(e,"mixAndMatch",(function(){return B})),t.d(e,"mapSimValues",(function(){return K})),t.d(e,"listToEnglish",(function(){return L})),t.d(e,"all",(function(){return X}));t("pJf4"),t("q8oJ"),t("m210"),t("4DPX"),t("Ggvi"),t("E5k/"),t("rzGZ"),t("Dq+y"),t("8npG"),t("ToIb"),t("YbXK"),t("cFtU"),t("gu/5"),t("eoYm"),t("YBKJ"),t("HQhv");var r=t("a1gY"),o=t.n(r),u=t("mwIZ"),i=t.n(u),s=(t("OQUD"),t("YwZP"));function c(n){return function(n){if(Array.isArray(n))return f(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return f(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var d=function(n,e){return"fraction-"+(n[e]||0)},l=function(n){return n.split(" ").join("-")},m=function(){return s.globalHistory.location.pathname},p=function(){return g()+m()},g=function(){return s.globalHistory.location.origin},v=function(){return s.globalHistory.location.hash},h=function(n,e){var t="/"===n.charAt(n.length-1)?e+1:e;return n=(n=n.split("/")).slice(0,-t).join("/")};function b(n,e){if(isNaN(n)&&isNaN(parseFloat(n))||isNaN(e)&&isNaN(parseFloat(e)))throw new SyntaxError("getRatio demands a and b be things that are or can be converted to numbers, you passed a: "+n+" and b: "+e);return 0===e?1/0:n/e}function y(n,e,t){return w(1-Math.min(Math.abs(e-n)/t,1),1)}function w(n,e){return Number(Math.round(n+"e"+e)+"e-"+e)||Math.round(n)}var O=function(n){return Math.floor(Math.random()*n)},M=/^(-?[0-9]+(?:\.[0-9]+)?)$/;function S(n){try{return M.test(n)?n.includes(".")?parseFloat(n):parseInt(n):n}catch(e){return n}}function q(n){return 0===n||"0"===n||"-0"===n?0:"string"!=typeof n&&"number"!=typeof n?null:Number(n)?Number(n):0}var j={},A=function(n,e,t,r){if(!n||!e||!t)throw Error("getPar missing required prop");var o={};return o.settings=n,o.viewProps=e,o.mergeInput=t,r&&(o.id=r,o.key=r),o},x=function(n,e){try{return e&&"object"==typeof e?o()(e,n):o.a.single(e,n)}catch(t){throw new Error("validation error: "+t.message)}},k=function(n){for(var e,t,r=n.length;0!==r;)t=Math.floor(Math.random()*r),e=n[r-=1],n[r]=n[t],n[t]=e;return n};function E(n,e,t){if(void 0===e&&(e=[]),e.length+n.length<t)return Array.from(new Set([].concat(c(n),c(e))));if(n.length===t)return n;if(n.length>t)return n.slice(0,t);for(var r=c(n),o=k(c(e)),a=null,u=0;u<o.length;u++)a=o[u],r.length<t&&r.indexOf(a)<=-1&&r.push(a);return r}function N(n,e,t,r,o){var a=e[t]?e[t]:{total:0,score:0,notes:[]};return a.total+=1,a.score+=r,a.t=n,o&&a.notes.push(o),a}function T(n,e,t,r){var o={},u=Object.assign({},i()(n,r,{})),s=Object.assign({},i()(n,e,{})),f=c(i()(n,t,[])),d=Object.assign({},u);return f.map((function(n,e){"mcq"===n.type?d[n.id]=N(n.type,d,n.id,n.score,n.note):"rmcq"===n.type&&(d[n.id]=N(n.type,d,n.id,a.rmcqa===s[n.id]?1:0,a.note))})),o[t]=[],o[r]=d,o}function P(n){var e=[];return n.map((function(n){e=e.concat(n)})),e}var D=function(n){return Array.from(new Set(n))},U=function(n,e){var t={};for(var r in n)e[r]&&(t[r]=n[r]);return t},_=function(n){var e=Math.floor(n/3600),t=n-3600*e/60;return e<10&&(e="0"+e),t<10&&(t="0"+t),e+":"+t},I=function(n,e){if(n){n.eq&&(n=n.eq);var t=n.split("=");return 0===e&&t[0]?t[0].trim():t[1]?t[1].trim():n}},Q=function(n){var e={};for(var t in n)e[t]=n[t].value;return e},R=function(n,e){var t=c(e),r=null;for(var o in n)r=n[o].transforms[n[o].transforms.length-1].equation,t.push({label:r.latex,value:r,latex:r.latex});return t},G=function(n,e,t){if(!e||0===e)throw Error("scoreDistance needs a valid range to score, range: "+e);var r=n-t;return 1-Math.abs(r/e)},H=function(n,e,t){if(e===t)return n;if("g"===e||"kg"===e||"mg"===e)if("g"===t){if("kg"===e)return 1e3*n;if("mg"===e)return n/1e3}else if("kg"===t){if("g"===e)return n/1e3;if("mg"===e)return n/1e6}else if("mg"===t){if("kg"===e)return 1e6*n;if("g"===e)return 1e3*n}throw Error("formatter convertUnit error for value "+n+", invalid unit pair from "+e+" to "+t)},F=function(n){switch(n){case"g":return"grams";case"kg":return"kilograms"}},V=function(n,e){if(!n.params)return"";var t,r="",o=null;return n.params.map((function(a,u){t=e.getUserP(a),o=e.getUnitP(a),r+=(u>0?", ":"")+a+": "+(n.hasOwnProperty(t)?n[t]||"-":n[a])+(n[o]||"")})),r},C=function(n){if(!n)return null;var e=Object.keys(n),t=Object.assign({},n);return e.map((function(n){null!==t[n]&&void 0!==t[n]||delete t[n]})),t},J=function(n,e){var t=0,r=0;return n.map((function(n){n[e]<t&&(t=n[e]),n[e]>r&&(r=n[e])})),[t,r]},Y=function(n,e){var t=n.images.filter((function(n){return n.id===e}));if(0===t.length)throw Error("no such image with id "+e+" exists in game meta");return t[0].src},B=function(n,e,t,r,o){for(var a=0,u=0,i=[],s=0;s<e;s++)i.push(n(t[a],r[u]||null,o)),a=a+1>=t.length?0:a+1,r.length-1&&(u=u+1>=r.length?0:u+1);return i},K=function(n){var e={};for(var t in n)e[t]=n[t].value;return e},L=function(n,e){var t,r="",o=Array.isArray(n)?n:Object.keys(n);return o.map((function(a,u){t=Array.isArray(n)?a:n[a],r+=e?e(a,t):t,u<o.length-1&&(r+=u<o.length-2?", ":" and ")})),r},X={mixAndMatch:B,getImg:Y,getRange:J,deleteEmptyKeys:C,getItemParamText:V,getUnitName:F,convertUnit:H,scoreDistance:G,getEquationSelectionOptions:R,getEqSide:I,toMMSS:_,filterObjectAByB:U,uniqueRay:D,addToArray:P,markMCQs:T,addAnswer:N,getRandomSelection:E,shuf:k,isInvalid:x,getPar:A,stringToNum:q,convertToNum:S,getRandomIndex:O,roundTo:w,getScore:y,getRatio:b,listToEnglish:L}}}]);
//# sourceMappingURL=utilities~app-56794e3bec43036a5e61.js.map