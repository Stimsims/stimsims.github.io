(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"3vKF":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n("OQUD"),a=n("iqUP");n("iTTW");var o=n("Uhxb"),i=function(e){return function(t){if(Object(r.f)("firestore inline then e",t),t)if(t.exists){var n=t.data();e(n)}else{if(!t.data||!t.data.success)throw t.error?new Error(t.error.message):new Error("No such record found");e(t.data.success)}else e(null)}},c=function(e){if(Object(r.f)("firestore inline catch e",e),e.exists)return e.data();if(e.data&&e.data.success)return e.data.success;throw e.error?new Error(e.error.message):new Error("No such record found")},s=function(e){return"string"==typeof e?e:e.error?e.error.message:"No such record found"},u=function(e){return a.firestore().collection(o.COLLECTION_PLAYERS).doc(e).get().then(c)},l=function(e,t,n){return a.firestore().collection(o.COLLECTION_PLAYERS).doc(e).collection(o.COLLECTION_EXAMS).doc(t).update({save:n})},d=function(e,t){return a.firestore().collection(o.COLLECTION_PLAYERS).doc(e).collection(o.COLLECTION_EXAMS).doc(t).delete().then((function(n){var r;return a.firestore().collection(o.COLLECTION_PLAYERS).doc(e).update(((r={})["exams."+t]=a.firestore.FieldValue.delete(),r))}))}},"4tu4":function(e,t,n){"use strict";n("pJf4"),n("q8oJ"),n("8npG"),n("YbXK"),n("cFtU"),n("rzGZ"),n("m210"),n("4DPX"),n("E5k/");var r=n("q1tI"),a=n.n(r),o=n("vOnD"),i=n("Wcq6"),c=n.n(i),s=(n("6nsN"),n("iTTW"),n("qhky")),u=n("OQUD"),l=n("YwZP"),d=n("Zrqu"),f=n("tkF3"),p=n("Db+8"),m={clientId:"392303660392-if4osc2chaurcd8a5o6btcuud6r3rj91.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"]},h=Object(p.a)((function(e){return a.a.createElement(f.a,{apiKey:"cli",script:"https://apis.google.com/js/api.js",onLoad:function(t){gapi.load("client",(function(){e.doSubscribe("getGapi",(function(){return gapi.client.init(m)}),(function(t){e.onApiInit("gapi")}),(function(e){Object(u.h)("gapi client init rejected")}),(function(e){Object(u.h)("gapi client onError called")}))}))}})})),g=n("Wbzz"),w=(n("Xjse"),n("kjjs")),b=n("+HCB"),E=n("9h/v");n("ETiJ");function A(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=[{provider:c.a.auth.TwitterAuthProvider.PROVIDER_ID},{provider:c.a.auth.FacebookAuthProvider.PROVIDER_ID}],I={signInFlow:"redirect",callbacks:{}},O=(t.a=function(e,t,n){return function(o){if(!o.doSubscribe)throw Error("SignInHoc must be wrapped by subscribable");var i=Object(r.useState)(null),u=i[0],p=i[1],m=Object(r.useState)(!1),v=m[0],C=m[1],j=Object(r.useState)(!1),x=j[0],R=j[1],_=Object(r.useState)(null),N=_[0],k=_[1],T=function(e){R(J(e))};Object(r.useEffect)((function(){return function(){M(N||V())}}),[N]),Object(r.useEffect)((function(){W()&&window.firebaseui&&Y()}),[v,x]),Object(r.useEffect)((function(){window.firebase=c.a,0===c.a.apps.length&&(c.a.initializeApp(E.a),l.globalHistory.location.hostname),window&&window.gapi&&!v&&C(!0),c.a.auth().onAuthStateChanged(T),U()}),[]);var U=function(e){window.firebase=c.a},D=function(){return o.doSubscribe("signInOut",(function(){return c.a.auth().signOut()}),(function(e){return M(V()),Object(g.navigate)(Object(w.getUrl)()),{success:"logged out"}}),(function(e){return{error:"failed to sign out."}}),p)},Y=function e(n,r){void 0===r&&(r=0),console.log("SignIn  showSignInUi",o);var a=V();if(a)Object(g.navigate)(Object(w.getUrl)()+"#signing-in");else try{c.a.auth().setPersistence(c.a.auth.Auth.Persistence.NONE),q(a),I.signInSuccessUrl=t+"#signed-in",window.location=Object(w.getUrl)()+"#signing-in",I.callbacks.signInSuccessWithAuthResult=X,B(n)}catch(i){r<1&&e(n,r+1)}},V=function(){var e;return firebaseui&&(e=firebaseui.auth.AuthUI.getInstance(Q())),e||(e=N),e},M=function(e){k(null),e&&e.delete()},q=function(e){k(null),e&&e.reset()},B=function(e){var t=V();if(!t){c.a.auth();t=new firebaseui.auth.AuthUI(c.a.auth(),Q())}var r=function(e){return{provider:c.a.auth.GoogleAuthProvider.PROVIDER_ID,scopes:e,customParameters:{include_granted_scopes:!0}}}(e);t.start("#"+Q(),Object.assign({},I,{signInOptions:[r].concat(A(n?[]:y))}))},X=function(e){return window&&window.gapi&&window.gapi.client&&e&&e.credential&&gapi.client.setToken({access_token:e.credential.accessToken}),!0},W=function(){return"#signing-in"===Object(w.getUrlHash)()},G=function(){return!!x},J=function(e){return e?{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,phoneNumber:e.phoneNumber,createTime:e.metadata.creationTime,lastTime:e.metadata.lastSignInTime,provider:e.providerData.reduce((function(e,t,n){return e+(n>0?", ":"")+t.providerId}),"")}:null},Q=function(){return"firebaseui-auth-container"};return a.a.createElement(P,null,a.a.createElement(s.a,null,a.a.createElement("link",{type:"text/css",rel:"stylesheet",href:"https://www.gstatic.com/firebasejs/ui/4.3.0/firebase-ui-auth.css"})),a.a.createElement(h,{onApiInit:function(){C(!0)}}),a.a.createElement(f.a,{onLoad:U,script:"https://www.gstatic.com/firebasejs/ui/4.3.0/firebase-ui-auth.js"}),a.a.createElement(S,{signingIn:W()},a.a.createElement(L,{signingIn:W(),className:"bg-grad-pp"},a.a.createElement(b.a,{className:"sign-in-close",icon:"icon-cross",onInput:function(){Object(g.navigate)(Object(w.getUrl)())},color:"primary",bgColor:"black"}),W()&&a.a.createElement("div",null,a.a.createElement(d.a,{key:"auth-message",id:"auth-message",fontSize:"remS",className:"inline"},"By signing in, some of your personal information will be used for authentication."),a.a.createElement("a",{href:"/privacy",trget:"_blank"},"Read more here")),u&&a.a.createElement(d.a,{key:"sign-error",id:"sign-error",className:"text-center"},"error"),a.a.createElement("div",{id:Q(),className:"sign-in-wrapper"}))),G()&&a.a.createElement(O,null,a.a.createElement(d.a,{key:"sign-out",id:"sign-out",className:"text-underline",onInput:D},"sign out")),v&&a.a.createElement("div",{className:"actionView "+(G()?"signedIn":"notSignedIn")},a.a.createElement(e,Object.assign({},o,{isSignedIn:G(),user:x,doSignOut:D,deleteUser:function(){var e=c.a.auth().currentUser;if(e)return function(){return e.delete()}},isGapiReady:v,doSignIn:Y}))))}},o.b.div.withConfig({displayName:"SignIn__SignOutWrapper",componentId:"sc-1kqop7t-0"})(["position:fixed;top:0px;right:0px;color:orange;"])),P=o.b.div.withConfig({displayName:"SignIn__SignInWrapper",componentId:"sc-1kqop7t-1"})(["text-align:center !important;"]),S=o.b.div.withConfig({displayName:"SignIn__StateBackground",componentId:"sc-1kqop7t-2"})(["position:absolute;top:0px;bottom:0px;left:0px;right:0px;background-color:rgba(0,0,0,0.8);transform:translateY(",");transition:transform 1s ease-out;z-index:",";"],(function(e){return e.signingIn?"0%":"-100%"}),(function(e){return e.theme.zUi})),L=o.b.div.withConfig({displayName:"SignIn__StateView",componentId:"sc-1kqop7t-3"})(["width:95%;margin:auto;margin-top:100px;z-index:",";position:relative;.sign-in-close{position:absolute;top:-25px;left:0px;}"],(function(e){return e.theme.zTop}))},"9h/v":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i}));t.a={apiKey:"AIzaSyDAHDS9Ia7fjc7MRYyD6zyKdRGZeRSrwrI",authDomain:"auth.stimsims.com",databaseURL:"https://mathstims-7d4bb.firebaseio.com",projectId:"mathstims-7d4bb",storageBucket:"mathstims-7d4bb.appspot.com",clientId:"392303660392-if4osc2chaurcd8a5o6btcuud6r3rj91.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"]};var r=["https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.coursework.me","https://www.googleapis.com/auth/drive.file"],a=["https://www.googleapis.com/auth/drive.file"],o=["https://www.googleapis.com/auth/classroom.coursework.students","https://www.googleapis.com/auth/classroom.courses.readonly","https://www.googleapis.com/auth/classroom.rosters.readonly"],i=["https://www.googleapis.com/auth/drive.metadata.readonly","https://www.googleapis.com/auth/classroom.coursework.students","https://www.googleapis.com/auth/classroom.courses.readonly"]},ETiJ:function(e,t,n){},GhMh:function(e,t,n){"use strict";n.r(t),n.d(t,"pageQuery",(function(){return p}));var r=n("q1tI"),a=n.n(r),o=n("vOnD"),i=(n("Wbzz"),n("CF71"),n("Zrqu"),n("/gC5")),c=n("qSc5"),s=n("OdzH"),u=n("V+At"),l=n("qhky"),d=n("LFN1"),f=(n("Wqac"),n("qzLg"));t.default=function(e){return a.a.createElement(i.a,{key:"account-page",className:"bg-tl-dark"},a.a.createElement(l.a,{title:"Account Page | "+e.data.site.siteMetadata.title}),a.a.createElement(d.a,null),a.a.createElement(u.a,{center:!0,title:"Account Page"}),a.a.createElement(f.a,{minHeight:"60px"},a.a.createElement(c.a,null)),a.a.createElement(s.a,null))};o.b.section.withConfig({displayName:"account__AccountWrapper",componentId:"sc-1ivjzxg-0"})(["border-top:2px solid ",";border-bottom:2px solid ",";max-width:",";margin:auto;"],(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.mediaL}));var p="2704245014"},P5Ec:function(e){e.exports=JSON.parse('{"data":{"site":{"siteMetadata":{"title":"Stimsims","domain":"https://stimsims.com","httpDomain":"http://stimsims.com","description":"Experimenting in data driven, open ended math games.","iconAlt":"Stimsims icon","siteUrl":"https://stimsims.com","features":["story-driven math problems. Take measurements, build and solve your own equations","discuss concepts and errors with in story based dialogues with characters","fantasy simulations - study the data to discover correlations and \\n        cause-effect relationships. Just like real life problems, but simplified.","open-ended problems - discover the randomized relationships. Each new game is unique and unknown.","data-rich choices and answers are tallied into personal performance reports","upload performance reports to Google Drive as word docs","Compare against annonymous global aggregate reports","web browser based, designed for phones","Playable offline, playable anywhere"],"authorName":"Victoria","authorDescription":"A web developer experimenting with story-driven, open ended math problems."}},"headerImage":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADcElEQVQ4y21US09bRxSemWvfi3FsYx4GG2M7GDC4QI2Jm0LjuMEGB1wMwhLEgVIoECJBGuXRtFk0XdAuSokitVLzRBEQhSyidhVFStv/xaLwde7cB9eIxdE5M3POd55zCCHkHqcjlSjViMuwUqDZhvBZu5D5u3mvyrq+YfMDMQ5WIMOISVTw2fU4yte7Ku5OAB/q8gExIlMvEknlKNomaQ4YhWSzCYPi7TJGrk3qgMwEa2lh6PpIORkQB2RCOEqkXHj6YRqK01GRclO8B3XRdhiOVG6T7XjyfhKJlBtWjOOUGRU8u1LCZ4tzwsifvIDOqWV0z95CbHIJgXOfg/II1bfh9QUU1ia0qHVbA9BSC8176EIB+V/+xNDGHvq+vo94aQV9i98j8+M2Rh+9Q+TiBJwNPq5LcbKBJiCTJMFrgu0Yf/gPAslLpynDHWxDYfM9YsMLup2NZ8eOdazdUil3ew/hVEE7c2XCJISYjDOMy3q6lDIUN/6GN9iJygw5/2LSha3XOUw/+Aqtg3nkVnfAuAHhjyEi4SVpwHNOb0gjysQJone+O3sdicu34AkFMPvTKrZeZZDNV4MoCkEkVouOgU5E+keQnXuhh86wS85iVAXhZxev1ysSQoq6xLlncAnJ4W/hqHejLz+AcLsHdrulhipVO/3IX9kRspNHVyLNQpb04o+TIFZYTMipi3eQLvx6elPU3NWBVdMcm9qHt7bjuC4W5btkGGkS1ZrBnYyV9hEMZ/TRYZWAhlE8NodMWvMsUZt5P0MncIPOmGdF9mB66l+0Bot6Q6TKsfFH6vBxIQfF48V45g18tQnTeIxMY54uG2MheGtwDMWht2ju70W0r70y5Ws3A9j6q4zs6jwfDa7cOIqR5B+m0lW2BbdZT23rxENlpLt+Rijdj+92vsHmdhI+nz6HviY771Dl1E/0vIanKiLkNLmPGhLWasXL4KvuxXh8F92BL039xoCCKgcFseyyI3XijVqc999Bb4P2G2rkVthotfhq+fBvKLRto8c3z8FlPvgUVgwD8NAEJUw8dpwpIl3/QKth02PYmANeOYqC/9nJMdHAtJ1YsRx0L1rqLcogRmt/F3Kpfh8D7rsY8T5ErmZTnwDZCmoE9B/R1/aBBVQAO1gdgvKnwiBSNYRPXDeQcq0hIKdgdWyxUcE2/gd3cv0W7kMsqQAAAABJRU5ErkJggg==","width":512,"height":512,"src":"/static/b68ef2a23dba0b55fef66c9b9eecc362/7ca77/favicon-old.png","srcSet":"/static/b68ef2a23dba0b55fef66c9b9eecc362/7ca77/favicon-old.png 1x"}}}}}')},Uhxb:function(e,t){t.COLLECTION_PLAYERS="players",t.COLLECTION_EXAMS="exams",t.COLLECTION_PAYMENTS="payments",t.PAY_EXAM_VALUE="5.00",t.PAY_EXAM_VALUE_STRIPE=500,t.PAY_REPORT_VALUE="10.00",t.PAY_REPORT_VALUE_STRIPE=1e3,t.PAY_CURRENCY="AUD",t.PRODUCT_EXAM="exam",t.PRODUCT_REPORT="report",t.PAYPAL_ID="paypalId",t.STRIPE_ID="stripeId",t.FREE_EXAM=3,t.FREE_REPORT=3,t.INITIAL_PLAYER_STATE={reportcount:0,examcount:0},t.getUnlockedKey=function(e){return"unlocked"+e},t.getCounterKey=function(e){return e+"count"},t.getFreeAmount=function(e){return 3},t.getRefundAmount=function(e){return 5},t.getPaymentAmount=function(e,t){if("stripe"===e){if("exam"===t)return 500;if("report"===t)return 1e3}else if("paypal"===e){if("exam"===t)return"5.00";if("report"===t)return"10.00"}throw Error("invalid vendor "+e+" or product "+t)},t.validateProduct=function(e){return"report"===e||"exam"===e},t.STRIPE_API_KEY="pk_live_NNcJevNYmVuwnZSVEPjCWdYv00Dri8SnWf",t.PAYPAL_LIVE_API_KEY="ASk_D1qAbh_gjj7sOvXUUc1XadpS0sgykHgppBCe3mjYxA7PlayZxJhXJ0rjvxBK3k2fi_E1MpLd8Jjj",t.PAYPAL_SANDBOX_API_KEY="Aera3gBeOoXF6uFm2HwLeOeV90vnwc1VufL9bj1cTXyq05ArwaLUhPGg9VM8shjnw1w5yo7tQXLBdUMc",t.PAYPAL_MODE="live",t.PAY_REPORT_VALUE_PAYPAL="10.00",t.PAY_EXAM_VALUE_PAYPAL="5.00",t.VENDOR_PAYPAL="paypal",t.VENDOR_STRIPE="stripe"},Xjse:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return w}));var r=n("OQUD"),a=n("iqUP");n("iTTW");var o=function(e){return function(t){if(!t.data||t.data.hasOwnProperty("fail"))throw t.data.hasOwnProperty("fail")?"string"==typeof t.data.fail?new Error(t.data.fail):new Error("cloud function failed"):new Error("No such record found");e(t.data)}},i=function(e){if(e.data&&!e.data.hasOwnProperty("fail"))return e.data;throw e.data.hasOwnProperty("fail")?"string"==typeof e.data.fail?new Error(e.data.fail):new Error("cloud function failed"):new Error("No such record found")},c=function(e){return e.result&&e.result.error?(Object(r.h)("cloudCatch "+e.result.error.message,!1),e.result.error.message):e.error?(Object(r.h)("cloudCatch "+e.error,!1),e.error):e.message?(Object(r.h)("cloudCatch "+e.message,!1),e.message):"string"==typeof e?(Object(r.h)("cloudCatch "+e,!1),e):(Object(r.h)("cloudCatch Incorrectly formatted cloudCatch error",!1),"Incorrectly formatted cloudCatch error")},s=function(e){return a.functions().httpsCallable("loadExam")({examId:e}).then(i)},u=function(e,t){return a.functions().httpsCallable("createExam")({game:e,settings:t}).then(i)},l=function(e){return a.functions().httpsCallable("deletePlayer")({uid:e})},d=function(e,t,n,r){return a.functions().httpsCallable("updateExam")({examId:e,game:t,node:n,local:r}).then(i)},f=function(e,t,n){return a.functions().httpsCallable("endGame")({examId:e,game:t,local:n}).then(i)},p=function(e,t){return a.functions().httpsCallable("createPaymentIntent")({eventId:e,paymentType:t}).then(i)},m=function(e,t){return a.functions().httpsCallable("checkCustomerStatus")({eventId:e,paymentType:t}).then(i)},h=function(e){return a.functions().httpsCallable("refundPayment")({paymentType:e}).then(i)},g=function(e,t){return a.functions().httpsCallable("validateCaptcha")({token:e,v2:t}).then(i)},w=function(e,t){return a.functions().httpsCallable("capturePaypalPayment")({orderID:e,authorizationID:t}).then(i)}},tkF3:function(e,t,n){"use strict";var r=n("q1tI"),a=n("17x9"),o=n.n(a),i=(n("OQUD"),function(e){Object(r.useEffect)((function(){t()}),[]);var t=function(){var t=document.createElement("script");t.type="text/javascript",t.src=e.script,t.onload=function(t){e.onLoad&&e.onLoad(t)},document.body.appendChild(t)};return null});i.propTypes={onLoad:o.a.func,script:o.a.string},t.a=i}}]);
//# sourceMappingURL=component---src-pages-account-js-e4655c4617a06ff62969.js.map